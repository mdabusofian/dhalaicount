<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patiya Govt. College Assignment Cover Page Generator</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        /* Global Reset and Font Setup */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 30px;
            width: 100%;
        }

        .app-container {
            display: flex;
            gap: 30px;
            width: 90%;
            max-width: 1400px; /* Max width for a clean layout */
        }

        /* Input Form Styling */
        .input-form {
            flex: 1;
            min-width: 350px;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 20px;
            height: fit-content; /* Sticky form height adjustment */
        }

        .input-form h2 {
            color: #004d40; /* Dark Teal - Official Look */
            margin-bottom: 25px;
            font-family: 'Playfair Display', serif;
            text-align: center;
        }

        label {
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: 700;
            color: #333;
        }

        input[type="text"],
        input[type="date"] {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="date"]:focus {
            border-color: #00897b; /* Teal Focus Color */
            outline: none;
        }

        .separator {
            margin: 25px 0 10px 0;
            font-weight: 700;
            color: #004d40;
            text-align: center;
            border-bottom: 2px solid #e0f2f1;
            padding-bottom: 5px;
        }

        #download-btn {
            width: 100%;
            padding: 15px;
            margin-top: 30px;
            background-color: #00897b; /* Teal Button */
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }

        #download-btn:hover {
            background-color: #00695c;
            transform: translateY(-2px);
        }


        /* Cover Page Styling (A4 Format) */
        .preview-area {
            flex: 2;
            background: #e0e0e0;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .preview-area h3 {
            text-align: center;
            color: #333;
            margin-top: 0;
            margin-bottom: 15px;
        }

        .cover-page {
            /* A4 dimensions: 794px x 1123px (Standard for 96dpi) */
            width: 794px; 
            height: 1123px;
            background-color: #fff;
            border: 1px solid #aaa;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            padding: 30px; /* Padding for inner content */
            box-sizing: border-box;
            /* CRITICAL: Fixed size for accurate PDF conversion */
        }

        .cover-content {
            /* Main Content Border - Professional Touch */
            border: 5px double #004d40; /* Dark Teal Double Border */
            padding: 40px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-sizing: border-box;
        }

        /* Header Section */
        .header-section {
            margin-bottom: 50px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ccc;
            width: 100%;
        }

        .university {
            font-size: 1.1em;
            font-weight: 700;
            color: #444;
            margin-bottom: 5px;
        }

        .college-name {
            font-family: 'Playfair Display', serif;
            font-size: 2.2em;
            color: #004d40; /* Main College Color */
            margin: 5px 0 0 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .college-address {
            font-size: 1.1em;
            color: #555;
            margin-top: 5px;
        }

        .logo-placeholder {
            width: 100px;
            height: 100px;
            margin: 15px auto;
            border: 2px solid #00897b;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            background-color: #f9f9f9;
        }

        .logo-text {
            font-weight: 700;
            color: #00897b;
            font-size: 0.9em;
        }

        /* Title Section */
        .title-section {
            margin-top: 30px;
            margin-bottom: 40px;
            padding: 20px;
            background-color: #e0f2f1; /* Light background for emphasis */
            border-radius: 8px;
            width: 80%;
        }

        .document-type {
            font-size: 1.2em;
            font-weight: 700;
            color: #555;
            margin-bottom: 10px;
        }

        .main-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: #333;
            margin: 0;
            line-height: 1.2;
            text-transform: capitalize;
        }

        /* Course Info */
        .course-info {
            margin-bottom: 50px;
            width: 100%;
        }

        .course-detail {
            font-size: 1.3em;
            margin: 10px 0;
        }

        /* Submission Details */
        .submission-details {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-bottom: 50px;
            text-align: left;
            padding: 0 50px;
        }

        .submitted-to, .submitted-by {
            width: 45%;
            padding: 20px;
            border: 1px dashed #aaa;
            border-radius: 8px;
            min-height: 200px; /* Ensure alignment */
        }

        .submitted-to {
            border-left: 5px solid #00897b;
        }

        .submitted-by {
            border-right: 5px solid #004d40;
        }

        .detail-heading {
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            font-weight: 700;
            color: #004d40;
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
        }

        .detail-name {
            font-size: 1.2em;
            font-weight: 700;
            margin: 5px 0;
            color: #333;
        }

        .detail-designation, .department, .college-name-small {
            margin: 2px 0;
            font-size: 1em;
            color: #555;
        }
        /* Dept Name is dynamic based on course, but here we keep it fixed for simplicity */
        .department::before {
            content: "Department of ";
        }
        .college-name-small {
            margin-top: 10px;
        }

        .detail-info {
            margin: 8px 0;
            font-size: 1.1em;
        }

        .label {
            font-weight: 700;
            color: #004d40;
        }

        /* Footer Section */
        .footer-section {
            margin-top: auto; /* Push to the bottom */
            width: 100%;
            padding-top: 20px;
            border-top: 1px solid #ccc;
        }

        .submission-date-label {
            font-size: 1.1em;
            font-weight: 700;
            color: #444;
        }

        .label-date {
            color: #004d40;
            margin-right: 10px;
        }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="input-form">
            <h2>Assignment Details Input</h2>
            
            <label for="assignment-title">Assignment Title</label>
            <input type="text" id="assignment-title" placeholder="e.g., The Impact of Climate Change on Coastal Ecosystems">
            
            <label for="course-name">Course Name</label>
            <input type="text" id="course-name" placeholder="e.g., Environmental Science">
            
            <label for="course-code">Course Code</label>
            <input type="text" id="course-code" placeholder="e.g., 401">

            <div class="separator">Submitted By (Student)</div>
            
            <label for="student-name">Student Name</label>
            <input type="text" id="student-name" placeholder="e.g., Kamrul Hasan">

            <label for="student-id">Student ID / Roll No.</label>
            <input type="text" id="student-id" placeholder="e.g., 2021004333010">

            <label for="student-session">Session (Academic Year)</label>
            <input type="text" id="student-session" placeholder="e.g., 2021-2022">

            <div class="separator">Submitted To (Teacher/Supervisor)</div>
            
            <label for="teacher-name">Teacher's Name</label>
            <input type="text" id="teacher-name" placeholder="e.g., Prof. Dr. Mohammad Akram">

            <label for="teacher-designation">Designation</label>
            <input type="text" id="teacher-designation" placeholder="e.g., Head of the Department">

            <label for="submission-date">Submission Date</label>
            <input type="date" id="submission-date">

            <button id="download-btn">Generate & Download PDF Cover Page</button>
        </div>

        <div class="preview-area">
            <h3>Cover Page Preview (A4 Size)</h3>
            <div id="cover-page-preview" class="cover-page">
                <div class="cover-content">

                    <div class="header-section">
                        <p class="university">Affiliated to National University, Bangladesh</p>
                        <h1 class="college-name">PATIYA GOVERNMENT COLLEGE</h1>
                        <p class="college-address">Patiya, Chattogram, Bangladesh</p>
                        <div class="logo-placeholder">
                            <p class="logo-text">LOGO</p>
                        </div>
                    </div>

                    <div class="title-section">
                        <p class="document-type">AN ASSIGNMENT ON</p>
                        <h2 id="preview-assignment-title" class="main-title">*** Assignment Title Here ***</h2>
                    </div>

                    <div class="course-info">
                        <p class="course-detail"><span class="label">Course Name:</span> <span id="preview-course-name">*** Course Name ***</span></p>
                        <p class="course-detail"><span class="label">Course Code:</span> <span id="preview-course-code">*** Course Code ***</span></p>
                    </div>

                    <div class="submission-details">
                        <div class="submitted-to">
                            <p class="detail-heading">Submitted To</p>
                            <p id="preview-teacher-name" class="detail-name">Prof. [Teacher's Name]</p>
                            <p id="preview-teacher-designation" class="detail-designation">[Designation]</p>
                            <p class="department" id="preview-department">[Your Department Name]</p>
                            <p class="college-name-small">Patiya Government College</p>
                        </div>

                        <div class="submitted-by">
                            <p class="detail-heading">Submitted By</p>
                            <p id="preview-student-name" class="detail-name">[Student Name]</p>
                            <p class="detail-info"><span class="label">ID/Roll No:</span> <span id="preview-student-id">[ID/Roll No]</span></p>
                            <p class="detail-info"><span class="label">Session:</span> <span id="preview-student-session">[Session]</span></p>
                        </div>
                    </div>

                    <div class="footer-section">
                        <p class="submission-date-label"><span class="label-date">Date of Submission:</span> <span id="preview-submission-date">DD/MM/YYYY</span></p>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 1. Get all input elements and preview elements
            const inputs = {
                title: document.getElementById('assignment-title'),
                courseName: document.getElementById('course-name'),
                courseCode: document.getElementById('course-code'),
                sName: document.getElementById('student-name'),
                sId: document.getElementById('student-id'),
                sSession: document.getElementById('student-session'),
                tName: document.getElementById('teacher-name'),
                tDesignation: document.getElementById('teacher-designation'),
                date: document.getElementById('submission-date')
            };

            const previews = {
                title: document.getElementById('preview-assignment-title'),
                courseName: document.getElementById('preview-course-name'),
                courseCode: document.getElementById('preview-course-code'),
                sName: document.getElementById('preview-student-name'),
                sId: document.getElementById('preview-student-id'),
                sSession: document.getElementById('preview-student-session'),
                tName: document.getElementById('preview-teacher-name'),
                tDesignation: document.getElementById('preview-teacher-designation'),
                date: document.getElementById('preview-submission-date')
            };

            // Default Preview Text
            const defaultText = {
                title: '*** Assignment Title Here ***',
                courseName: '*** Course Name ***',
                courseCode: '*** Course Code ***',
                sName: '[Student Name]',
                sId: '[ID/Roll No]',
                sSession: '[Session]',
                tName: 'Prof. [Teacher\'s Name]',
                tDesignation: '[Designation]',
                date: 'DD/MM/YYYY'
            };

            // 2. Real-time Preview Update Function
            function updatePreview() {
                // Update Assignment Title
                previews.title.textContent = inputs.title.value || defaultText.title;
                
                // Update Course Info
                previews.courseName.textContent = inputs.courseName.value || defaultText.courseName;
                previews.courseCode.textContent = inputs.courseCode.value || defaultText.courseCode;

                // Update Submitted To (Teacher) Info
                previews.tName.textContent = inputs.tName.value || defaultText.tName;
                previews.tDesignation.textContent = inputs.tDesignation.value || defaultText.tDesignation;
                
                // Update Submitted By (Student) Info
                previews.sName.textContent = inputs.sName.value || defaultText.sName;
                previews.sId.textContent = inputs.sId.value || defaultText.sId;
                previews.sSession.textContent = inputs.sSession.value || defaultText.sSession;

                // Update Submission Date
                let submissionDate = defaultText.date;
                if (inputs.date.value) {
                    const dateObj = new Date(inputs.date.value);
                    submissionDate = dateObj.toLocaleDateString('en-GB', {
                        day: '2-digit', month: 'long', year: 'numeric'
                    });
                }
                previews.date.textContent = submissionDate;

                // Automatically set Department name in Teacher's section (Optional)
                const courseWords = inputs.courseName.value ? inputs.courseName.value.split(' ') : [];
                document.getElementById('preview-department').textContent = courseWords.length > 0 ? 
                    courseWords.map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ') : 
                    '[Your Department Name]';
            }

            // Attach event listeners to all input fields
            Object.values(inputs).forEach(input => {
                input.addEventListener('input', updatePreview);
            });

            // Set initial state
            updatePreview();


            // 3. PDF Generation Function (CRITICAL CHANGES FOR ALIGNMENT)
            document.getElementById('download-btn').addEventListener('click', function() {
                const element = document.getElementById('cover-page-preview'); 
                
                // Set PDF options for A4 format
                var opt = {
                    margin:       0.5, // 0.5 inch margin on all sides
                    filename:     'Patiya_Govt_College_Assignment_Cover_Page.pdf',
                    image:        { type: 'jpeg', quality: 0.98 },
                    html2canvas:  { 
                        scale: 4, // Higher scale for better resolution and clarity
                        logging: false, 
                        dpi: 192, 
                        letterRendering: true 
                    },
                    jsPDF:        { 
                        unit: 'in', 
                        format: 'A4', 
                        orientation: 'portrait' 
                    }
                };

                // Generate and Save the PDF
                html2pdf().set(opt).from(element).save();
            });
        });
    </script>
</body>
</html>
